<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#218083">
    <meta name="description" content="Todowa - Next-generation AI-powered Todo application with gamification">
    <title>Todowa - Ultimate Todo App</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlRvZG93YSAtIFVsdGltYXRlIFRvZG8gQXBwIiwKICAic2hvcnRfbmFtZSI6ICJUb2Rvd2EiLAogICJkZXNjcmlwdGlvbiI6ICJOZXh0LWdlbmVyYXRpb24gQUktcG93ZXJlZCBUb2RvIGFwcGxpY2F0aW9uIHdpdGggZ2FtaWZpY2F0aW9uIiwKICAic3RhcnRfdXJsIjogIi4vIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAidGhlbWVfY29sb3IiOiAiIzIxODA4MyIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2ZjZmNmOSIsCiAgIm9yaWVudGF0aW9uIjogInBvcnRyYWl0LXByaW1hcnkiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhPVElpSUdobGFXZG9kRDBpTVRreUlqNDhjbVZqZENCM2FXUjBhRDBpTVRreUlpQm9aV2xuYUhROUlqa3lJaUJtYVd4c1BTSWpNakU0TURneklpOCtQSFJsZUhRZ2VEMGlOVFlpSUhrOUlqWXdJaUJtYVd4c1BTSWpabVpabVptaUlHWnZiblF0YzJsNlpUMGlNalFpSUdadmJuUXRkMlZwWjJoMFBTSTJNREFpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaVBsUnZaRzkzWVR3dmRHVjRkRDQ4TDNOMlp6ND0iLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9LAogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTUyY21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJMU1USWlJR2hsYVdkb2REMGlOVEV5SWo0OGNtVmpkQ0IzYVdSMGFEMGlOVEV5SWlCb1pXbG5hSFE5SWpVeE1pSWdabWxzYkQwaUl6SXhPREE0TXlJdlBqeDBlSFFnZUQwaU1USTRJaUJoUFNVeE0ySWlJR1pwYkd3OUltWm1abVptWWlCbWIyNTBMWE5wZW1VOUlqWXdJaUJtYjI1MExYZGxhV2RvZEQwaU5qQXdJaUIwWlhoMExXRnVZMmh2Y2owaWJXbGtaR3hsSWo1VWIyUnZkMkU4TDNSbGVIUStQQzl6ZG1jKyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
    
    <!-- Preload fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- App icons -->
    <link rel="apple-touch-icon" sizes="192x192" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIj48cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjkyIiBmaWxsPSIjMjE4MDgzIi8+PHRleHQgeD0iNTYiIHk9IjYwIiBmaWxsPSIjZmZmZmZmIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iNjAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5Ub2Rvd2E8L3RleHQ+PC9zdmc+">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTYiIGZpbGw9IiMyMTgwODMiLz48dGV4dCB4PSIxNiIgeT0iMjIiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VDwvdGV4dD48L3N2Zz4=">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Install prompt -->
    <div id="install-banner" class="install-banner hidden">
        <div class="install-content">
            <span>ğŸ“± Install Todowa for the best experience!</span>
            <button id="install-btn" class="btn btn--primary btn--sm">Install</button>
            <button id="dismiss-install" class="btn btn--outline btn--sm">Later</button>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__left">
                    <button class="hamburger" id="hamburger" aria-label="Menu">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <div class="logo">
                        <h1>Todowa ğŸš€</h1>
                    </div>
                </div>
                
                <div class="header__center">
                    <div class="date-display" id="currentDate"></div>
                </div>
                
                <div class="header__right">
                    <div class="level-display" id="levelDisplay">
                        <div class="level-badge">
                            <span class="level-emoji" id="levelEmoji">ğŸ†•</span>
                            <span class="level-text" id="levelText">Newbie</span>
                        </div>
                        <div class="xp-bar">
                            <div class="xp-progress" id="xpProgress"></div>
                        </div>
                        <div class="xp-text" id="xpText">0 / 50 XP</div>
                    </div>
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">ğŸŒ“</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar__content">
            <div class="sidebar__header">
                <h3>Navigation</h3>
            </div>
            <ul class="sidebar__nav">
                <li><a href="#dashboard" data-nav="dashboard">ğŸ  Dashboard</a></li>
                <li><a href="#all-tasks" data-nav="all-tasks">ğŸ“‹ All Tasks</a></li>
                <li><a href="#completed" data-nav="completed">âœ… Completed</a></li>
                <li><a href="#analytics" data-nav="analytics">ğŸ“Š Analytics</a></li>
                <li><a href="#themes" data-nav="themes">ğŸ¨ Themes</a></li>
                <li><a href="#timer" data-nav="timer">â±ï¸ Timer</a></li>
                <li><a href="#settings" data-nav="settings">âš™ï¸ Settings</a></li>
                <li><a href="#about" data-nav="about">â„¹ï¸ About</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Quote Carousel -->
            <section class="quotes-section">
                <div class="quote-carousel" id="quoteCarousel">
                    <div class="quote-slide active">
                        <blockquote id="currentQuote">The secret of getting ahead is getting started.</blockquote>
                    </div>
                </div>
            </section>

            <!-- Dashboard View -->
            <section class="view-section active" id="dashboard-view">
                <!-- Add Task Form -->
                <div class="add-task-section">
                    <div class="card add-task-card">
                        <div class="card__body">
                            <h2>âœ¨ Add New Task</h2>
                            <form id="addTaskForm" class="add-task-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <input type="text" id="taskTitle" class="form-control" placeholder="Task title..." required>
                                    </div>
                                    <div class="form-group">
                                        <button type="button" id="voiceInputBtn" class="btn btn--outline voice-btn" title="Voice input">ğŸ¤</button>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <textarea id="taskDescription" class="form-control" placeholder="Description (optional)" rows="2"></textarea>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <select id="taskCategory" class="form-control">
                                            <option value="Personal">ğŸ‘¤ Personal</option>
                                            <option value="Work">ğŸ’¼ Work</option>
                                            <option value="Health">ğŸ’ª Health</option>
                                            <option value="Study">ğŸ“š Study</option>
                                            <option value="Shopping">ğŸ›’ Shopping</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <select id="taskPriority" class="form-control">
                                            <option value="Low">ğŸŸ¢ Low</option>
                                            <option value="Medium">ğŸŸ¡ Medium</option>
                                            <option value="High">ğŸ”´ High</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <input type="date" id="taskDueDate" class="form-control">
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn--primary btn--full-width">
                                    <span>â• Add Task</span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Search and Filter -->
                <div class="controls-section">
                    <div class="search-filter-bar">
                        <div class="search-box">
                            <input type="text" id="searchTasks" class="form-control" placeholder="ğŸ” Search tasks...">
                        </div>
                        <div class="filter-controls">
                            <select id="filterCategory" class="form-control">
                                <option value="">All Categories</option>
                                <option value="Personal">ğŸ‘¤ Personal</option>
                                <option value="Work">ğŸ’¼ Work</option>
                                <option value="Health">ğŸ’ª Health</option>
                                <option value="Study">ğŸ“š Study</option>
                                <option value="Shopping">ğŸ›’ Shopping</option>
                            </select>
                            <select id="sortTasks" class="form-control">
                                <option value="dueDate">Due Date</option>
                                <option value="priority">Priority</option>
                                <option value="category">Category</option>
                                <option value="createdAt">Created</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Today's Tasks -->
                <div class="today-section">
                    <h3>ğŸ“… Today's Tasks</h3>
                    <div class="task-list" id="todayTasks"></div>
                </div>

                <!-- All Tasks -->
                <div class="tasks-section">
                    <h3>ğŸ“‹ All Tasks</h3>
                    <div class="task-list" id="taskList"></div>
                </div>
            </section>

            <!-- Completed View -->
            <section class="view-section" id="completed-view">
                <h2>âœ… Completed Tasks</h2>
                <div class="task-list" id="completedTasks"></div>
            </section>

            <!-- Analytics View -->
            <section class="view-section" id="analytics-view">
                <h2>ğŸ“Š Analytics</h2>
                <div class="analytics-grid">
                    <div class="card stat-card">
                        <div class="card__body">
                            <div class="stat-number" id="totalTasks">0</div>
                            <div class="stat-label">Total Tasks</div>
                        </div>
                    </div>
                    <div class="card stat-card">
                        <div class="card__body">
                            <div class="stat-number" id="completedCount">0</div>
                            <div class="stat-label">Completed</div>
                        </div>
                    </div>
                    <div class="card stat-card">
                        <div class="card__body">
                            <div class="stat-number" id="currentStreak">0</div>
                            <div class="stat-label">Day Streak</div>
                        </div>
                    </div>
                    <div class="card stat-card">
                        <div class="card__body">
                            <div class="stat-number" id="totalXP">0</div>
                            <div class="stat-label">Total XP</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Themes View -->
            <section class="view-section" id="themes-view">
                <h2>ğŸ¨ Themes</h2>
                <div class="themes-grid">
                    <div class="theme-card" data-theme="dark">
                        <div class="theme-preview theme-preview--dark"></div>
                        <h3>ğŸŒ‘ Dark Theme</h3>
                        <p>Professional dark theme with blue accents</p>
                        <button class="btn btn--outline theme-select-btn">Select</button>
                    </div>
                    <div class="theme-card" data-theme="neon">
                        <div class="theme-preview theme-preview--neon"></div>
                        <h3>âš¡ Neon Theme</h3>
                        <p>Vibrant neon colors with dark base</p>
                        <button class="btn btn--outline theme-select-btn">Select</button>
                    </div>
                    <div class="theme-card" data-theme="sakura">
                        <div class="theme-preview theme-preview--sakura"></div>
                        <h3>ğŸŒ¸ Sakura Theme</h3>
                        <p>Soft cherry blossom pastels</p>
                        <button class="btn btn--outline theme-select-btn">Select</button>
                    </div>
                </div>
            </section>

            <!-- Timer View -->
            <section class="view-section" id="timer-view">
                <h2>â±ï¸ Focus Timer</h2>
                <div class="timer-section">
                    <div class="timer-display">
                        <div class="timer-circle">
                            <svg class="timer-svg" width="200" height="200">
                                <circle cx="100" cy="100" r="90" class="timer-bg"></circle>
                                <circle cx="100" cy="100" r="90" class="timer-progress" id="timerProgress"></circle>
                            </svg>
                            <div class="timer-time" id="timerTime">25:00</div>
                        </div>
                    </div>
                    <div class="timer-controls">
                        <button class="btn btn--primary" id="startTimer">â–¶ï¸ Start</button>
                        <button class="btn btn--outline" id="pauseTimer">â¸ï¸ Pause</button>
                        <button class="btn btn--outline" id="resetTimer">ğŸ”„ Reset</button>
                    </div>
                    <div class="timer-presets">
                        <button class="btn btn--secondary timer-preset" data-minutes="25">Pomodoro (25m)</button>
                        <button class="btn btn--secondary timer-preset" data-minutes="5">Break (5m)</button>
                        <button class="btn btn--secondary timer-preset" data-minutes="15">Focus (15m)</button>
                    </div>
                </div>
            </section>

            <!-- Settings View -->
            <section class="view-section" id="settings-view">
                <h2>âš™ï¸ Settings</h2>
                <div class="settings-grid">
                    <div class="card">
                        <div class="card__body">
                            <h3>ğŸ­ Accessibility</h3>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="reducedMotion"> Reduce animations
                                </label>
                            </div>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="highContrast"> High contrast mode
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <h3>ğŸ“¤ Data Management</h3>
                            <div class="setting-buttons">
                                <button class="btn btn--outline" id="exportData">ğŸ“¤ Export Data</button>
                                <button class="btn btn--outline" id="importData">ğŸ“¥ Import Data</button>
                                <input type="file" id="importFile" accept=".json,.csv" class="hidden">
                                <button class="btn btn--outline" id="clearData">ğŸ—‘ï¸ Clear All Data</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- About View -->
            <section class="view-section" id="about-view">
                <h2>â„¹ï¸ About Todowa</h2>
                <div class="about-content">
                    <div class="card">
                        <div class="card__body">
                            <h3>ğŸš€ Version 1.0.0</h3>
                            <p>Todowa is a next-generation Progressive Web App that gamifies productivity with modern features and seamless offline functionality.</p>
                            
                            <h4>âœ¨ Features</h4>
                            <ul>
                                <li>ğŸ® Gamification system with XP and levels</li>
                                <li>ğŸ“± Progressive Web App (PWA)</li>
                                <li>ğŸ¨ Three beautiful themes</li>
                                <li>â±ï¸ Built-in Pomodoro timer</li>
                                <li>ğŸ” Smart search and filtering</li>
                                <li>ğŸ“Š Detailed analytics</li>
                                <li>ğŸ¤ Voice input support</li>
                                <li>ğŸ’¾ Automatic data backup</li>
                            </ul>

                            <h4>âŒ¨ï¸ Keyboard Shortcuts</h4>
                            <div class="shortcuts">
                                <div class="shortcut"><kbd>Ctrl + N</kbd> Add new task</div>
                                <div class="shortcut"><kbd>/</kbd> Focus search</div>
                                <div class="shortcut"><kbd>?</kbd> Show help</div>
                                <div class="shortcut"><kbd>Esc</kbd> Close modals</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <button class="footer__credit" id="creditLink">
                    Developed By WaizMarco ğŸŒ¹
                </button>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    
    <!-- Level Up Modal -->
    <div class="modal hidden" id="levelUpModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="level-up-celebration">
                <div class="celebration-emoji">ğŸ‰</div>
                <h2>Level Up!</h2>
                <div class="new-level">
                    <span class="new-level-emoji" id="newLevelEmoji">âš¡</span>
                    <span class="new-level-text" id="newLevelText">Challenger</span>
                </div>
                <p>Congratulations! You've reached a new level!</p>
                <button class="btn btn--primary" id="closeLevelUp">Continue</button>
            </div>
        </div>
    </div>

    <!-- Developer Modal -->
    <div class="modal hidden" id="developerModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2>ğŸ‘¨â€ğŸ’» Developer Info</h2>
                <button class="modal__close" aria-label="Close">âœ•</button>
            </div>
            <div class="modal__body">
                <div class="developer-info">
                    <h3>WaizMarco ğŸŒ¹</h3>
                    <p>Full-stack developer passionate about creating beautiful, functional applications.</p>
                    <div class="social-links">
                        <a href="#" target="_blank" rel="noopener" class="social-link">
                            ğŸ™ GitHub
                        </a>
                        <a href="#" target="_blank" rel="noopener" class="social-link">
                            ğŸ’¼ Portfolio  
                        </a>
                        <a href="#" target="_blank" rel="noopener" class="social-link">
                            ğŸ“± Telegram
                        </a>
                        <a href="#" target="_blank" rel="noopener" class="social-link">
                            ğŸ¦ Twitter/X
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal hidden" id="confirmModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2 id="confirmTitle">Confirm Action</h2>
            </div>
            <div class="modal__body">
                <p id="confirmMessage">Are you sure you want to proceed?</p>
            </div>
            <div class="modal__footer">
                <button class="btn btn--outline" id="confirmCancel">Cancel</button>
                <button class="btn btn--primary" id="confirmOk">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal hidden" id="helpModal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h2>â“ Help & Shortcuts</h2>
                <button class="modal__close" aria-label="Close">âœ•</button>
            </div>
            <div class="modal__body">
                <div class="help-content">
                    <h3>âŒ¨ï¸ Keyboard Shortcuts</h3>
                    <div class="shortcuts">
                        <div class="shortcut"><kbd>Ctrl + N</kbd> Add new task</div>
                        <div class="shortcut"><kbd>/</kbd> Focus search</div>
                        <div class="shortcut"><kbd>?</kbd> Show this help</div>
                        <div class="shortcut"><kbd>Esc</kbd> Close modals</div>
                    </div>
                    
                    <h3>ğŸ® Gamification</h3>
                    <ul>
                        <li>Complete tasks to earn XP</li>
                        <li>Level up to unlock new ranks</li>
                        <li>Maintain streaks for bonus XP</li>
                        <li>Perfect days give maximum rewards</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Canvas for particles -->
    <canvas id="particleCanvas" class="particle-canvas"></canvas>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Inline service worker
                const swCode = `
                const CACHE_NAME = 'todowa-v1';
                const urlsToCache = [
                    '/',
                    '/index.html',
                    '/style.css',
                    '/app.js',
                    'https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap'
                ];

                self.addEventListener('install', event => {
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then(cache => cache.addAll(urlsToCache))
                    );
                });

                self.addEventListener('fetch', event => {
                    event.respondWith(
                        caches.match(event.request)
                            .then(response => {
                                if (response) {
                                    return response;
                                }
                                return fetch(event.request);
                            })
                    );
                });

                self.addEventListener('sync', event => {
                    if (event.tag === 'background-sync') {
                        event.waitUntil(syncData());
                    }
                });

                function syncData() {
                    // Background sync logic would go here
                    return Promise.resolve();
                }
                `;

                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => console.log('SW registered:', registration))
                    .catch(error => console.log('SW registration failed:', error));
            });
        }
    </script>
    
    <script src="app.js"></script>
</body>
</html>